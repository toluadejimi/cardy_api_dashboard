(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4076],{98986:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return h}});var t=r(67294),a=r(9008),s=r(48287),o=r(56348),u=r(57248),i=r(70449),c=r(35005),d=r.n(c),l=r(67750),_=r(85893),h=function(){var e=(0,t.useState)(""),n=e[0],r=e[1],c=(0,i.OW)(u.gF),h=c.error,p=c.submit,m=c.submitting,f=(0,l.t)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(a.default,{children:(0,_.jsx)("title",{children:"Forgot Password | VerifyMe"})}),(0,_.jsxs)("div",{className:d().container,children:[(0,_.jsxs)("aside",{className:d().aside,children:[(0,_.jsx)("h2",{className:d().asideTitle,children:"Already have an account?"}),(0,_.jsx)("p",{className:d().asideSubtitle,children:"Welcome back! Sign in to VerifyMe now!"}),(0,_.jsx)(o.Z,{className:d().asideButton,href:"/auth/login"+f,type:o.q.outline,children:"Sign In"})]}),(0,_.jsxs)("div",{className:d().content,children:[(0,_.jsx)("h2",{className:d().contentTitle,children:"Forgot Password"}),(0,_.jsx)("p",{className:d().contentSubtitle,children:"Enter your details below and we\u2019ll send instructions if your account exists."}),(0,_.jsxs)("form",{onSubmit:function(e){return p(e,(function(){e.target.reset();r("Password reset details sent to your email")}))},children:[(0,_.jsxs)(s.BZ,{children:[(0,_.jsx)(s.__,{children:"Email Address"}),(0,_.jsx)(s.II,{name:"username",placeholder:"john@examplemail.com",required:!0,type:"email",validation:s.HI.email})]}),(0,_.jsx)(s._o,{errors:h}),(0,_.jsx)(s.ql,{messages:n}),(0,_.jsx)(o.Z,{className:d().button,htmlType:"submit",loading:m,type:o.q.primary,children:"Send Reset Link"})]})]})]})]})}},56348:function(e,n,r){"use strict";r.d(n,{q:function(){return t}});var t,a=r(59499),s=r(4730),o=(r(67294),r(11163)),u=r(62267),i=r(54081),c=r(37437),d=r.n(c),l=r(85893),_=["children","className","fullWidth","href","htmlType","loading","onClick","type"];function h(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){(0,a.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}!function(e){e.basic="basic",e.outline="outline",e.primary="primary",e.custom="custom"}(t||(t={}));n.Z=function(e){var n=e.children,r=e.className,a=e.fullWidth,c=e.href,h=e.htmlType,m=e.loading,f=e.onClick,g=e.type,b=(0,s.Z)(e,_),w=c?"a":"button",y=p({className:(0,i.Tz)(r,d().button,d()[g||t.outline],a&&d().fullWidth,m&&d().loading),onClick:f||function(e){c&&(e.preventDefault(),o.default.push(c))},type:h},b);return(0,l.jsx)(w,p(p({},y),{},{children:m?(0,l.jsx)(u.r,{style:{maxHeight:"15px",stroke:"currentColor"}}):n}))}},67750:function(e,n,r){"use strict";r.d(n,{t:function(){return a},W:function(){return s}});var t=r(11163);function a(){var e=(0,t.useRouter)(),n="",r=0;for(var a in e.query)n=(n=0===r?n+"?":n+"&")+(a+"=")+e.query[a],r++;return n}function s(){return!0}},57248:function(e,n,r){"use strict";r.d(n,{x4:function(){return m},Lv:function(){return f},z2:function(){return g},gF:function(){return b},Lo:function(){return w}});var t=r(59499),a=r(50029),s=r(87794),o=r.n(s),u=r(74231),i=r(76427),c=r.n(i),d=r(70449),l=r(17124);function _(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var p="\n    id\n    email\n    phone\n    firstname\n    lastname\n    username\n    token\n    userGroup {\n        group{\n            id\n            name\n            organisation {\n                id\n                name\n                industryId\n                cac\n                allowInvoice\n                allowKyc\n                status\n                slaPrice\n                address\n                allowAddressPlatform\n            }\n        }\n        role{\n            id\n            code\n            name\n        }\n        status{\n            id\n            code\n            label\n        }\n    }\n    userGroups {\n        group {\n            id\n            name\n            organisation {\n                id\n                name\n                industryId\n                cac\n                allowInvoice\n                allowKyc\n                status\n                slaPrice\n                address\n                allowAddressPlatform\n            }\n        }\n        role {\n            id\n            code\n            name\n        }\n        status {\n            id\n            code\n            label\n        }\n    }\n",m=function(){var e=(0,a.Z)(o().mark((function e(n){var r,t,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.Ry().shape({password:u.Z_().required(),username:u.Z_().required()}),e.next=3,r.validate(n).then((function(){return""})).catch((function(e){return e.message}));case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",{error:t});case 6:return a="\n    mutation loginUser($password: String!, $username: String!) {\n      authenticate(password: $password, username: $username) {\n        ".concat(p,"\n      }\n    }\n    "),s=(0,d.ZP)(),e.next=10,s.request(a,n).then((function(e){return{response:e}})).catch((function(e){return{error:e.response&&e.response.errors}}));case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(o().mark((function e(n){var r,t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\n    mutation switchSessionOrganisation($id: Float!) {\n        switchSessionOrganisation(id: $id) {\n        ".concat(p,"\n      }\n    }\n    "),t=(0,d.ZP)(),e.next=4,t.request(r,n).then((function(e){return{response:e}})).catch((function(e){return{error:e.response&&e.response.errors}}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(o().mark((function e(n){var r,t,a,s,i,_,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:u.Z_().email().required(),firstname:u.Z_().matches(/^[a-zA-Z-]+$/,{excludeEmptyString:!0,message:"First Name can't contain numbers and some special characters"}).required(),lastname:u.Z_().matches(/^[a-zA-Z-]+$/,{excludeEmptyString:!0,message:"Last Name can't contain numbers and some special characters"}).required(),phone:u.Z_().required()},n.userType===l.xe.cooprate&&(t="Please accept our service level agreement to proceed",r=h(h({},r),{},{industryId:u.Z_().required(),cac:u.Z_().required(),companyName:u.Z_().required(),companyAddress:u.Z_().required(),jobTitle:u.Z_().required(),slaAgreement:u.O7().oneOf([!0],t).required(t)})),n.organisationId||(r=h(h({},r),{},{password:u.Z_().matches(/(?=.*\d)(?=.*[a-z]).{6,}/,"Password must contain alphanumeric character and minimum of 6 characters").required(),confirmPassword:u.Z_().required()})),a=u.Ry().shape(r),n.userType===l.xe.agent&&(n.isAgent=!0,n.hasBike=Boolean(Number(n.hasBike)),n.hasSmartphone=Boolean(Number(n.hasSmartphone)),delete n.state),e.next=7,a.validate(n).then((function(){return""})).catch((function(e){return e.message}));case 7:if(!(s=e.sent)){e.next=10;break}return e.abrupt("return",{error:s});case 10:if(n.confirmPassword===n.password){e.next=12;break}return e.abrupt("return",{error:"Passwords do not match"});case 12:return i="\n  mutation registerUser($data: UserInput!) {\n    register(data: $data){\n      ".concat(p,"\n    }\n  }\n  "),_=(0,d.ZP)(),e.next=16,_.request(i,{data:c()(h(h({},n),{},{organisationId:parseFloat(n.organisationId),groupId:parseFloat(n.groupId),roleId:parseFloat(n.roleId)}),["confirmPassword","slaAgreement"])}).then((function(e){return{response:e}})).catch((function(e){return{error:e.response&&e.response.errors}}));case 16:return m=e.sent,e.abrupt("return",m);case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)(o().mark((function e(n){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n  mutation($username: String!){\n    forgetPassword(username: $username){\n      ok\n    }\n  }\n  ",r=(0,d.ZP)(),e.next=4,r.request("\n  mutation($username: String!){\n    forgetPassword(username: $username){\n      ok\n    }\n  }\n  ",n).then((function(e){return{response:e}})).catch((function(e){return{error:e.response&&e.response.errors}}));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,a.Z)(o().mark((function e(n){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n  mutation($username: String!){\n    resendAuth (username: $username){\n      ok\n    }\n  }\n  ",r=(0,d.ZP)(),e.next=4,r.request("\n  mutation($username: String!){\n    resendAuth (username: $username){\n      ok\n    }\n  }\n  ",n).then((function(e){return{response:e}})).catch((function(e){return{error:e.response&&e.response.errors}}));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},52240:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/forgot-password",function(){return r(98986)}])},37437:function(e){e.exports={button:"Button_button__PjVhE",basic:"Button_basic__8vKgs",outline:"Button_outline__EsWgH",primary:"Button_primary___XGO6",custom:"Button_custom__35uVh",fullWidth:"Button_fullWidth__YGnCJ",loading:"Button_loading__sDdK_"}},35005:function(e){e.exports={container:"shared_auth_container__qG_A4",aside:"shared_auth_aside__ms1p1",content:"shared_auth_content__t2BiJ",asideTitle:"shared_auth_asideTitle__S1qBM",asideSubtitle:"shared_auth_asideSubtitle__BAQ1J",asideButton:"shared_auth_asideButton__Uh6HW",contentSubtitle:"shared_auth_contentSubtitle__8BDwx",contentTitle:"shared_auth_contentTitle__Iwznb",date:"shared_auth_date__H3di1",dateChild:"shared_auth_dateChild__eZyGa",dateStart:"shared_auth_dateStart__o_DR3",button:"shared_auth_button__6ykOn",toLoginButton:"shared_auth_toLoginButton__Y5Ikc",select:"shared_auth_select__hwDnl",forgotPasswordLabel:"shared_auth_forgotPasswordLabel__MFlaw",forgotPassword:"shared_auth_forgotPassword__6_ImN",logo:"shared_auth_logo____xWt",noResize:"shared_auth_noResize__1mJg5",fieldTrigger:"shared_auth_fieldTrigger___U9pP",radio:"shared_auth_radio__TDS9u",checkbox:"shared_auth_checkbox__CZs6e",passwordMeter:"shared_auth_passwordMeter__vfDuA",item:"shared_auth_item__bPv_M",quickNotice:"shared_auth_quickNotice__RLlal",quickNoticeBtn:"shared_auth_quickNoticeBtn__gTeZj",marginRight100:"shared_auth_marginRight100__XaQuO"}}},function(e){e.O(0,[9393,1528,3587,7242,8646,9774,2888,179],(function(){return n=52240,e(e.s=n);var n}));var n=e.O();_N_E=n}]);